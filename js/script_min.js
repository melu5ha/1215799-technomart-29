let buttonBuy=document.querySelectorAll(".product_link_buy"),popupBasket=document.querySelector(".modal_basket"),buttonBasketClose=popupBasket.querySelector(".modal_close"),buttonClick=function(e,t){e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal_show")})},buttonClose=function(e,t){e.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal_show"),t.classList.remove("modal_error")})},keyClose=function(e){window.addEventListener("keydown",function(t){"Escape"===t.key&&(e.classList.remove("modal_show"),e.classList.remove("modal_error"))})};for(let e=0;e<buttonBuy.length;e++)buttonClick(buttonBuy[e],popupBasket);buttonClose(buttonBasketClose,popupBasket),keyClose(popupBasket);let popupWriteUs=document.querySelector(".modal_write_us"),buttonInformation=document.querySelector(".button_map"),buttonInformationClose=popupWriteUs.querySelector(".modal_close"),popupMap=document.querySelector(".modal_map"),buttonMap=document.querySelector(".information_map"),buttonMapClose=popupMap.querySelector(".modal_close"),buttonDelivery=document.querySelector(".button_delivery"),buttonWarranty=document.querySelector(".button_warranty"),buttonCredit=document.querySelector(".button_credit"),deliveryService=document.querySelector(".delivery_slider"),warrantyService=document.querySelector(".warranty_slider"),creditService=document.querySelector(".credit_slider"),gallery=document.querySelector(".gallery"),switchLeft=gallery.querySelector(".switch_left"),switchRight=gallery.querySelector(".switch_right"),slideControlLeft=gallery.querySelector(".slider_control_left"),slideControlRight=gallery.querySelector(".slider_control_right"),perforates=gallery.querySelector(".slide_perforates"),drill=gallery.querySelector(".slide_drill"),writeUsForm=popupWriteUs.querySelector(".modal_container"),formName=writeUsForm.querySelector(".input_name"),formEmail=writeUsForm.querySelector(".input_email"),formText=writeUsForm.querySelector(".input_text_container");buttonClick(buttonInformation,popupWriteUs),buttonClose(buttonInformationClose,popupWriteUs),keyClose(popupWriteUs),buttonClick(buttonMap,popupMap),buttonClose(buttonMapClose,popupMap),keyClose(popupMap);let servicesButton=function(e,t){e.addEventListener("click",function(r){r.preventDefault(),warrantyService.classList.contains("current_slider")&&(warrantyService.classList.remove("current_slider"),buttonWarranty.classList.remove("services_link_active"),buttonWarranty.classList.add("services_link_free")),creditService.classList.contains("current_slider")&&(creditService.classList.remove("current_slider"),buttonCredit.classList.remove("services_link_active"),buttonCredit.classList.add("services_link_free")),deliveryService.classList.contains("current_slider")&&(deliveryService.classList.remove("current_slider"),buttonDelivery.classList.remove("services_link_active"),buttonDelivery.classList.add("services_link_free")),t.classList.add("current_slider"),e.classList.remove("services_link_free"),e.classList.add("services_link_active")})};servicesButton(buttonDelivery,deliveryService),servicesButton(buttonWarranty,warrantyService),servicesButton(buttonCredit,creditService);let sliderSwitch=function(e){e.addEventListener("click",function(e){e.preventDefault(),gallery.classList.contains("slide_background_perforates")?(gallery.classList.remove("slide_background_perforates"),gallery.classList.add("slide_background_drill"),slideControlRight.classList.remove("current"),slideControlLeft.classList.add("current"),perforates.classList.remove("slide_current"),drill.classList.add("slide_current")):(gallery.classList.remove("slide_background_drill"),gallery.classList.add("slide_background_perforates"),slideControlLeft.classList.remove("current"),slideControlRight.classList.add("current"),perforates.classList.add("slide_current"),drill.classList.remove("slide_current")),console.log("работает")})};sliderSwitch(switchLeft),sliderSwitch(switchRight),writeUsForm.addEventListener("submit",function(e){formName.value&&formEmail.value&&formText.value||(e.preventDefault(),popupWriteUs.classList.remove("modal_error"),popupWriteUs.offsetWidth=popupWriteUs.offsetWidth,popupWriteUs.classList.add("modal_error"))});
